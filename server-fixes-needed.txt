üö® CRITICAL FIXES NEEDED FOR SERVER.JS üö®

‚ùå THESE ISSUES WILL CRASH YOUR SERVER ‚ùå

1. MISSING IMPORTS (Add at top of server.js after line 3):
   Add these lines after: const cors = require('cors');
   
   const bcrypt = require('bcryptjs');
   const jwt = require('jsonwebtoken');
   require('dotenv').config();

2. MISSING .ENV FILE (Create in project root):
   Create file named: .env
   Content:
   EMAIL_PASSWORD=excb ulus vrkk dfik
   JWT_SECRET=sanrico-mercantile-jwt-secret-2024
   MONGODB_URI=mongodb+srv://24uglyandrew:weaklings162@sanricosite.vgnc0qj.mongodb.net/

3. MISSING FUNCTION (Add after line 15 in server.js):
   Add this function:
   
   async function connectToDatabase() {
       try {
           if (!client.topology || !client.topology.isConnected()) {
               await client.connect();
           }
           return client.db("MyProductsDb");
       } catch (error) {
           console.error("‚ùå Database connection error:", error);
           throw error;
       }
   }

4. MOVE NODEMAILER IMPORT (Current line 2020):
   Remove: const nodemailer = require('nodemailer');
   And add it at the top with other imports

5. UPDATE PORT (Change line 5):
   Change: const port = 3000;
   To: const port = process.env.PORT || 3000;

‚ö†Ô∏è ADDITIONAL POTENTIAL ISSUES ‚ö†Ô∏è

6. MISSING TOAST SCRIPT INCLUDES:
   Some HTML files may be missing:
   <script src="js/toast.js"></script>
   
7. MISSING LOGIN SCRIPT INCLUDES:
   Some HTML files may be missing:
   <script src="js/login.js"></script>

8. MISSING TOAST CONTAINER:
   HTML files need this element:
   <div class="toast" id="toast"></div>

9. DEPENDENCIES CHECK:
   Run: npm install
   To ensure all packages are installed

‚ö†Ô∏è  WITHOUT THESE FIXES, YOUR SERVER WILL NOT START! ‚ö†Ô∏è

üîß PRIORITY FIX ORDER:
1. Create .env file manually (MOST CRITICAL)
2. Add missing imports to server.js (CRITICAL)
3. Add connectToDatabase function (CRITICAL)
4. Test with: npm start
5. Check HTML includes for js/toast.js and js/login.js

üîß TESTING COMMANDS:
npm install             (Install dependencies)
npm run view-users     (View registered users)
npm run test-login email password    (Test login)
npm start              (Start server) 